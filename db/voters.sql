DROP TABLE IF EXISTS voters CASCADE;

-- Table Definition
CREATE TABLE IF NOT EXISTS voters (
    id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    citizen_id INTEGER UNIQUE NOT NULL,
    address_id BIGINT NOT NULL,
    open_register BOOLEAN DEFAULT FALSE,
    registration_date DATE NOT NULL DEFAULT CURRENT_DATE,
    FOREIGN KEY (citizen_id) REFERENCES citizen(id),
    FOREIGN KEY (address_id) REFERENCES addresses(id)
); 

COMMENT ON TABLE voters IS 'Stores voter registration information.';
COMMENT ON COLUMN voters.id IS 'Unique identifier for the voter registration.';
COMMENT ON COLUMN voters.citizen_id IS 'Reference to the citizen who is registered to vote.';
COMMENT ON COLUMN voters.address_id IS 'Reference to the voter''s address.';
COMMENT ON COLUMN voters.open_register IS 'Indicates if the voter is on the open register.';
COMMENT ON COLUMN voters.registration_date IS 'The date the voter was registered.'; 